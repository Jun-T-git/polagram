sequenceDiagram
participant User
box "Legacy System" #LightBlue
participant CoreSystem
end
box "External"
participant Bank
end
User->>CoreSystem: Login
CoreSystem-->>User: Token
User->>CoreSystem: Place Order
note over CoreSystem: Internal Sync
opt Payment Processing
CoreSystem->>Bank: Charge Credit Card
activate Bank
note right of Bank: External Interaction
Bank-->>CoreSystem: Success
deactivate Bank
end
alt Out of Stock
CoreSystem-->>User: Error
end
CoreSystem-->>User: Order Confirmed
